# ğŸš€ easer (Gitee Release CLI) ç”¨æˆ·æ–‡æ¡£

[![English](https://img.shields.io/badge/lang-English-blue.svg)](README.en.md)
[![ä¸­æ–‡](https://img.shields.io/badge/lang-ä¸­æ–‡-red.svg)](README.md)

è¿™æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºé€šè¿‡ Gitee API v5 åœ¨æŒ‡å®šçš„ Gitee ä»“åº“ä¸­åˆ›å»º Releaseã€‚

## âœ¨ åŠŸèƒ½

*   âœ… åœ¨ Gitee ä»“åº“åˆ›å»ºæ–°çš„ Releaseã€‚
*   âœ… æ”¯æŒè®¾ç½® Release çš„æ ‡ç­¾ã€ç›®æ ‡ Commit/åˆ†æ”¯ã€åç§°å’Œæè¿°ã€‚
*   âœ… æ”¯æŒå°† Release æ ‡è®°ä¸ºè‰ç¨¿æˆ–é¢„å‘å¸ƒç‰ˆæœ¬ã€‚
*   âœ… æ”¯æŒé€šè¿‡ Gitee ä¸ªäººè®¿é—®ä»¤ç‰Œè¿›è¡Œè®¤è¯ã€‚
*   âœ… æ”¯æŒä¸Šä¼  Release é™„ä»¶ (artifacts)ã€‚
*   âœ… æ”¯æŒå¤šè¯­è¨€æ¶ˆæ¯è¾“å‡ºï¼ˆå½“å‰æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ï¼‰ã€‚
*   âœ… éªŒè¯æ ‡ç­¾åç§°æ˜¯å¦ç¬¦åˆè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒã€‚

## ğŸ› ï¸ å®‰è£…

### ğŸ“¦ ä½¿ç”¨ Cargo ï¼ˆæ¨èï¼‰

å¦‚æœä½ çš„ç³»ç»Ÿå®‰è£…äº† Rust å’Œ Cargoï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š

```bash
cargo install --git https://github.com/Emin017/easer.rs
```

æˆ–è€…ï¼Œå…‹éš†æœ¬ä»“åº“ååœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼š

```bash
cargo install --path .
```

### ğŸ’¾ ä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶

è®¿é—®æœ¬é¡¹ç›®çš„ Releases é¡µé¢ï¼ˆå¦‚æœæä¾›ï¼‰ï¼Œä¸‹è½½é€‚åˆä½ æ“ä½œç³»ç»Ÿçš„é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶å°†å…¶æ”¾ç½®åœ¨ä½ çš„ `PATH` ç¯å¢ƒå˜é‡æ‰€åŒ…å«çš„ç›®å½•ä¸­ã€‚

## â–¶ï¸ ç”¨æ³•

```bash
easer \
  --owner <OWNER> \
  --repo <REPO> \
  --token <TOKEN> \
  [--repo-path <REPO_PATH>] \
  [--previous-tag <PREV_TAG>] \
  [--tag-name <TAG>] \
  [--name <NAME>] \
  [--body <BODY>] \
  --target-commitish <COMMITISH> \
  [--artifacts <PATH1>,<PATH2>,...] \
  [--draft] [--prerelease] [--lang <LANG>]
```

## âš™ï¸ å‚æ•°è¯¦è§£

*   `--owner <OWNER>`: **[å¿…éœ€]** ä»“åº“æ‰€å±çš„ç”¨æˆ·æˆ–ç»„ç»‡åç§°
*   `--repo <REPO>`: **[å¿…éœ€]** ä»“åº“åç§°
*   `--token <TOKEN>`: **[å¿…éœ€]** Gitee ä¸ªäººè®¿é—®ä»¤ç‰Œ
*   `--repo-path <REPO_PATH>`: **[å¯é€‰]** æœ¬åœ° Git ä»“åº“è·¯å¾„ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•ï¼ˆ`.`ï¼‰ã€‚ç”¨äºè¯»å–æäº¤å’Œç”Ÿæˆ CHANGELOG
*   `--previous-tag <PREV_TAG>`: **[å¯é€‰]** ä¸Šä¸€ä¸ªå·²å‘å¸ƒçš„ tagï¼Œç”¨äºç”Ÿæˆå˜æ›´æ—¥å¿—ã€‚å¦‚æœä¸ä¼ ï¼Œä¼šè‡ªåŠ¨æŸ¥æ‰¾æœ€è¿‘çš„ tag
*   `--tag-name <TAG>`: **[å¯é€‰]** è¦åˆ›å»ºçš„ Release çš„æ ‡ç­¾åç§°ï¼ˆå¦‚ `v1.0.0`ï¼‰
*   `--name <NAME>`: **[å¯é€‰]** Release çš„æ ‡é¢˜
*   `--body <BODY>`: **[å¯é€‰]** Release çš„æè¿°ï¼Œæ”¯æŒ Markdown
*   â€”â€” å½“ `--tag-name`/`--name`/`--body` ä»»æ„ä¸€é¡¹ä¸ä¼ æ—¶ï¼Œå·¥å…·ä¼šæ ¹æ® Conventional Commits è§„èŒƒè‡ªåŠ¨ç”Ÿæˆå¯¹åº”ä¿¡æ¯
*   `--target-commitish <COMMITISH>`: **[å¿…éœ€]** Release åŸºäºçš„åˆ†æ”¯æˆ–æäº¤ï¼ˆå¦‚ `main`ï¼‰
*   `--artifacts <PATH1>,<PATH2>,...`: **[å¯é€‰]** è¦ä¸Šä¼ çš„é™„ä»¶è·¯å¾„åˆ—è¡¨ï¼Œé€—å·åˆ†éš”
*   `--draft`: **[å¯é€‰]** å°† Release æ ‡è®°ä¸ºè‰ç¨¿ï¼Œé»˜è®¤ä¸º `false`
*   `--prerelease`: **[å¯é€‰]** å°† Release æ ‡è®°ä¸ºé¢„å‘å¸ƒï¼Œé»˜è®¤ä¸º `false`
*   `--lang <LANG>`: **[å¯é€‰]** è¾“å‡ºè¯­è¨€ï¼Œæ”¯æŒ `zh-cn`ï¼ˆé»˜è®¤ï¼‰å’Œ `en-us`

## ğŸ“ ç¤ºä¾‹

# 1. æŒ‡å®šæœ¬åœ°ä»“åº“ã€è‡ªåŠ¨ç”Ÿæˆå‘å¸ƒä¿¡æ¯å¹¶ä¸Šä¼  artifact
```bash
easer \
  --owner "my-username" \
  --repo "my-project" \
  --token "TOKEN" \
  --repo-path "./" \
  --previous-tag "v0.1.0" \
  --target-commitish "main" \
  --artifacts "./dist/app.tar.gz"
```

# 2. æŒ‡å®šæ‰€æœ‰ä¿¡æ¯å¹¶ä¸Šä¼ å¤šä¸ª artifact
```bash
easer \
  --owner "my-org" \
  --repo "beta-test" \
  --token "TOKEN" \
  --tag-name "v1.2.0" \
  --name "Release v1.2.0" \
  --body "æœ¬æ¬¡æ›´æ–°åŒ…å« xã€yã€zã€‚" \
  --target-commitish "develop" \
  --artifacts "./build.zip,./checksums.txt" \
  --lang "en-us"
```

## âš ï¸ æ³¨æ„äº‹é¡¹

*   **ä»¤ç‰Œæƒé™**: ç¡®ä¿æä¾›çš„ Gitee ä¸ªäººè®¿é—®ä»¤ç‰Œå…·æœ‰è¶³å¤Ÿçš„æƒé™ï¼ˆé€šå¸¸éœ€è¦ `projects` èŒƒå›´ï¼‰æ¥åˆ›å»º Release å’Œä¸Šä¼ é™„ä»¶ã€‚
*   **æ ‡ç­¾æ ¼å¼**: å·¥å…·ä¼šæ£€æŸ¥ `--tag-name` æ˜¯å¦ç¬¦åˆè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼ˆå…è®¸å¯é€‰çš„ `v` å‰ç¼€ï¼‰ã€‚æ— æ•ˆçš„æ ‡ç­¾åä¼šå¯¼è‡´é”™è¯¯ã€‚
*   **æ–‡ä»¶è·¯å¾„**: `--artifacts` å‚æ•°æŒ‡å®šçš„æ–‡ä»¶è·¯å¾„å¿…é¡»å­˜åœ¨ä¸”ä¸ºæ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨æˆ–ä¸æ˜¯æ–‡ä»¶ï¼Œå°†è¢«è·³è¿‡ã€‚
*   **ç½‘ç»œ**: å·¥å…·éœ€è¦è®¿é—® Gitee API (`https://gitee.com`)ã€‚è¯·ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸ã€‚

## ğŸ› é”™è¯¯å¤„ç†

å¦‚æœåˆ›å»º Release æˆ–ä¸Šä¼ é™„ä»¶å¤±è´¥ï¼Œå·¥å…·ä¼šè¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œé€šå¸¸åŒ…å« Gitee API è¿”å›çš„çŠ¶æ€ç å’Œè¯¦ç»†ä¿¡æ¯ï¼Œæœ‰åŠ©äºæ’æŸ¥é—®é¢˜ã€‚å¸¸è§çš„é”™è¯¯åŸå› åŒ…æ‹¬ï¼š
*   âŒ æ— æ•ˆçš„ä»¤ç‰Œæˆ–æƒé™ä¸è¶³ (401 Unauthorized)
*   âŒ ä»“åº“æˆ–æ‰€æœ‰è€…åç§°é”™è¯¯ (404 Not Found)
*   âŒ æ ‡ç­¾å·²å­˜åœ¨ (422 Unprocessable Entity)
*   âŒ æ— æ•ˆçš„æ ‡ç­¾æ ¼å¼
*   âŒ è¯»å–æœ¬åœ°é™„ä»¶æ–‡ä»¶å¤±è´¥
*   âŒ ä¸Šä¼ é™„ä»¶æ—¶ Gitee API è¿”å›é”™è¯¯
*   âŒ ç½‘ç»œé—®é¢˜
