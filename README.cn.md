# ğŸš€ easer (Gitee Release CLI) ç”¨æˆ·æ–‡æ¡£

[![English](https://img.shields.io/badge/lang-English-blue.svg)](README.en.md)
[![ä¸­æ–‡](https://img.shields.io/badge/lang-ä¸­æ–‡-red.svg)](README.md)

è¿™æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºé€šè¿‡ Gitee API v5 åœ¨æŒ‡å®šçš„ Gitee ä»“åº“ä¸­åˆ›å»º Releaseã€‚

## âœ¨ åŠŸèƒ½

*   âœ… åœ¨ Gitee ä»“åº“åˆ›å»ºæ–°çš„ Releaseã€‚
*   âœ… æ”¯æŒè®¾ç½® Release çš„æ ‡ç­¾ã€ç›®æ ‡ Commit/åˆ†æ”¯ã€åç§°å’Œæè¿°ã€‚
*   âœ… æ”¯æŒå°† Release æ ‡è®°ä¸ºè‰ç¨¿æˆ–é¢„å‘å¸ƒç‰ˆæœ¬ã€‚
*   âœ… æ”¯æŒé€šè¿‡ Gitee ä¸ªäººè®¿é—®ä»¤ç‰Œè¿›è¡Œè®¤è¯ã€‚
*   âœ… æ”¯æŒä¸Šä¼  Release é™„ä»¶ (artifacts)ã€‚
*   âœ… æ”¯æŒå¤šè¯­è¨€æ¶ˆæ¯è¾“å‡ºï¼ˆå½“å‰æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ï¼‰ã€‚
*   âœ… éªŒè¯æ ‡ç­¾åç§°æ˜¯å¦ç¬¦åˆè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒã€‚

## ğŸ› ï¸ å®‰è£…

### ğŸ“¦ ä½¿ç”¨ Cargo (æ¨è)

å¦‚æœä½ çš„ç³»ç»Ÿå®‰è£…äº† Rust å’Œ Cargoï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š

```bash
cargo install --git https://github.com/Emin017/easer.rs # è¯·æ›¿æ¢ä¸ºå®é™…çš„ä»“åº“åœ°å€
```

æˆ–è€…ï¼Œå…‹éš†æœ¬ä»“åº“ååœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼š

```bash
cargo install --path .
```

### ğŸ’¾ ä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶

è®¿é—®æœ¬é¡¹ç›®çš„ Releases é¡µé¢ï¼ˆå¦‚æœæä¾›ï¼‰ï¼Œä¸‹è½½é€‚åˆä½ æ“ä½œç³»ç»Ÿçš„é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶å°†å…¶æ”¾ç½®åœ¨ä½ çš„ `PATH` ç¯å¢ƒå˜é‡æ‰€åŒ…å«çš„ç›®å½•ä¸­ã€‚

## â–¶ï¸ ç”¨æ³•

```bash
easer --owner <OWNER> --repo <REPO> --token <TOKEN> --tag-name <TAG> --target-commitish <COMMITISH> --name <NAME> --body <BODY> [--artifacts <PATH1>,<PATH2>,...] [OPTIONS]
```

## âš™ï¸ å‚æ•°è¯¦è§£

*   `--owner <OWNER>`: **[å¿…éœ€]** ä»“åº“æ‰€å±çš„ç”¨æˆ·æˆ–ç»„ç»‡åç§°ã€‚
*   `--repo <REPO>`: **[å¿…éœ€]** ä»“åº“åç§°ã€‚
*   `--token <TOKEN>`: **[å¿…éœ€]** ä½ çš„ Gitee ä¸ªäººè®¿é—®ä»¤ç‰Œã€‚éœ€è¦æœ‰åˆ›å»º Release çš„æƒé™ã€‚è¯·è®¿é—® [Gitee è®¾ç½®](https://gitee.com/profile/personal_access_tokens) ç”Ÿæˆä»¤ç‰Œã€‚
*   `--tag-name <TAG>`: **[å¿…éœ€]** è¦åˆ›å»ºçš„ Release çš„æ ‡ç­¾åç§°ã€‚å»ºè®®éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼ˆä¾‹å¦‚ `v1.0.0`, `1.0.0`ï¼‰ã€‚å·¥å…·ä¼šå°è¯•éªŒè¯å…¶æ ¼å¼ã€‚
*   `--target-commitish <COMMITISH>`: **[å¿…éœ€]** Release åŸºäºçš„ Git Commit SHAã€åˆ†æ”¯åæˆ–æ ‡ç­¾åï¼ˆä¾‹å¦‚ `main`, `master`, `develop`, `commit-sha`ï¼‰ã€‚
*   `--name <NAME>`: **[å¿…éœ€]** Release çš„æ ‡é¢˜æˆ–åç§°ã€‚
*   `--body <BODY>`: **[å¿…éœ€]** Release çš„è¯¦ç»†æè¿°ã€‚æ”¯æŒ Markdown æ ¼å¼ã€‚
*   `--artifacts <PATH1>,<PATH2>,...`: **[å¯é€‰]** è¦ä¸Šä¼ çš„é™„ä»¶æ–‡ä»¶çš„è·¯å¾„åˆ—è¡¨ï¼Œä»¥é€—å·åˆ†éš”ã€‚ä¾‹å¦‚ `--artifacts build.zip,checksums.txt`ã€‚
*   `--draft`: **[å¯é€‰]** å°†æ­¤ Release æ ‡è®°ä¸ºè‰ç¨¿ã€‚è‰ç¨¿ Release ä¸ä¼šå…¬å¼€ï¼Œåªæœ‰ä»“åº“æˆå‘˜å¯è§ã€‚é»˜è®¤ä¸º `false`ã€‚
*   `--prerelease`: **[å¯é€‰]** å°†æ­¤ Release æ ‡è®°ä¸ºé¢„å‘å¸ƒç‰ˆæœ¬ã€‚é€šå¸¸ç”¨äºæµ‹è¯•ç‰ˆæˆ–å€™é€‰ç‰ˆæœ¬ã€‚é»˜è®¤ä¸º `false`ã€‚
*   `--lang <LANG>`: **[å¯é€‰]** è®¾ç½®å·¥å…·è¾“å‡ºæ¶ˆæ¯çš„è¯­è¨€ã€‚æ”¯æŒ `zh-cn` (ç®€ä½“ä¸­æ–‡ï¼Œé»˜è®¤) å’Œ `en-us` (ç¾å›½è‹±è¯­)ã€‚

## ğŸ“ ç¤ºä¾‹

åˆ›å»ºä¸€ä¸ªåä¸º "v1.0.0 Release" çš„æ­£å¼ Releaseï¼Œæ ‡ç­¾ä¸º `v1.0.0`ï¼ŒåŸºäº `main` åˆ†æ”¯ï¼Œé™„å¸¦æè¿°ï¼Œå¹¶ä¸Šä¼ ä¸¤ä¸ªé™„ä»¶ï¼š

```bash
easer \
    --owner "my-username" \
    --repo "my-awesome-project" \
    --token "YOUR_GITEE_TOKEN" \
    --tag-name "v1.0.0" \
    --target-commitish "main" \
    --name "v1.0.0 Release" \
    --body "è¿™æ˜¯æˆ‘ä»¬é¡¹ç›®çš„ç¬¬ä¸€ä¸ªç¨³å®šç‰ˆæœ¬ï¼\n\nåŒ…å«ä»¥ä¸‹æ›´æ–°ï¼š\n- åŠŸèƒ½ A\n- ä¿®å¤ B" \
    --artifacts "./dist/my-app-linux.tar.gz,./dist/my-app-windows.zip"
```

åˆ›å»ºä¸€ä¸ªé¢„å‘å¸ƒçš„è‰ç¨¿ Releaseï¼Œå¹¶ä½¿ç”¨è‹±æ–‡æ¶ˆæ¯ï¼š

```bash
easer \
    --owner "my-org" \
    --repo "beta-test" \
    --token "YOUR_GITEE_TOKEN" \
    --tag-name "v0.1.0-beta.1" \
    --target-commitish "develop" \
    --name "Beta Release 1" \
    --body "This is a beta release for testing purposes." \
    --draft \
    --prerelease \
    --lang "en-us"
```

## âš ï¸ æ³¨æ„äº‹é¡¹

*   **ä»¤ç‰Œæƒé™**: ç¡®ä¿æä¾›çš„ Gitee ä¸ªäººè®¿é—®ä»¤ç‰Œå…·æœ‰è¶³å¤Ÿçš„æƒé™ï¼ˆé€šå¸¸éœ€è¦ `projects` èŒƒå›´ï¼‰æ¥åˆ›å»º Release å’Œä¸Šä¼ é™„ä»¶ã€‚
*   **æ ‡ç­¾æ ¼å¼**: å·¥å…·ä¼šæ£€æŸ¥ `--tag-name` æ˜¯å¦ç¬¦åˆè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼ˆå…è®¸å¯é€‰çš„ `v` å‰ç¼€ï¼‰ã€‚æ— æ•ˆçš„æ ‡ç­¾åä¼šå¯¼è‡´é”™è¯¯ã€‚
*   **æ–‡ä»¶è·¯å¾„**: `--artifacts` å‚æ•°æŒ‡å®šçš„æ–‡ä»¶è·¯å¾„å¿…é¡»å­˜åœ¨ä¸”ä¸ºæ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨æˆ–ä¸æ˜¯æ–‡ä»¶ï¼Œå°†è¢«è·³è¿‡ã€‚
*   **ç½‘ç»œ**: å·¥å…·éœ€è¦è®¿é—® Gitee API (`https://gitee.com`)ã€‚è¯·ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸ã€‚

## ğŸ› é”™è¯¯å¤„ç†

å¦‚æœåˆ›å»º Release æˆ–ä¸Šä¼ é™„ä»¶å¤±è´¥ï¼Œå·¥å…·ä¼šè¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œé€šå¸¸åŒ…å« Gitee API è¿”å›çš„çŠ¶æ€ç å’Œè¯¦ç»†ä¿¡æ¯ï¼Œæœ‰åŠ©äºæ’æŸ¥é—®é¢˜ã€‚å¸¸è§çš„é”™è¯¯åŸå› åŒ…æ‹¬ï¼š
*   âŒ æ— æ•ˆçš„ä»¤ç‰Œæˆ–æƒé™ä¸è¶³ (401 Unauthorized)
*   âŒ ä»“åº“æˆ–æ‰€æœ‰è€…åç§°é”™è¯¯ (404 Not Found)
*   âŒ æ ‡ç­¾å·²å­˜åœ¨ (422 Unprocessable Entity)
*   âŒ æ— æ•ˆçš„æ ‡ç­¾æ ¼å¼
*   âŒ è¯»å–æœ¬åœ°é™„ä»¶æ–‡ä»¶å¤±è´¥
*   âŒ ä¸Šä¼ é™„ä»¶æ—¶ Gitee API è¿”å›é”™è¯¯
*   âŒ ç½‘ç»œé—®é¢˜
